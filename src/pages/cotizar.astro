---
import Layout from '../layouts/Layout.astro';
import Navbar from '@sections/Navbar.astro';
import Footer from '@sections/Footer.astro';
---

<Layout title="Cotizar - Solicita tu Presupuesto | MiEmpresa">
  <Navbar />
  
  <main class="pt-16 min-h-screen bg-secondary-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-secondary-900 mb-4">
          Solicita tu Cotización
        </h1>
        <p class="text-lg text-secondary-600">
          Completa el formulario y nos pondremos en contacto contigo en menos de 24 horas
        </p>
      </div>

      <!-- Form -->
      <div class="bg-white rounded-xl shadow-lg p-8">
        <form class="space-y-6">
          <!-- Personal Information -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="firstName" class="block text-sm font-medium text-secondary-700 mb-2">
                Nombre *
              </label>
              <input 
                type="text" 
                id="firstName" 
                name="firstName" 
                required 
                class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
              >
            </div>
            <div>
              <label for="lastName" class="block text-sm font-medium text-secondary-700 mb-2">
                Apellido *
              </label>
              <input 
                type="text" 
                id="lastName" 
                name="lastName" 
                required 
                class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
              >
            </div>
          </div>

          <!-- Contact Information -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="email" class="block text-sm font-medium text-secondary-700 mb-2">
                Email *
              </label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                required 
                class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
              >
            </div>
            <div>
              <label for="phone" class="block text-sm font-medium text-secondary-700 mb-2">
                Teléfono *
              </label>
              <input 
                type="tel" 
                id="phone" 
                name="phone" 
                required 
                class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
              >
            </div>
          </div>

          <!-- Company Information -->
          <div>
            <label for="company" class="block text-sm font-medium text-secondary-700 mb-2">
              Empresa
            </label>
            <input 
              type="text" 
              id="company" 
              name="company" 
              class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
            >
          </div>

          <!-- Service Type -->
          <div>
            <label for="serviceType" class="block text-sm font-medium text-secondary-700 mb-2">
              Tipo de Servicio *
            </label>
            <select 
              id="serviceType" 
              name="serviceType" 
              required 
              class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
            >
              <option value="">Selecciona un servicio</option>
              <option value="consultoria">Consultoría Empresarial</option>
              <option value="desarrollo">Desarrollo de Software</option>
              <option value="marketing">Marketing Digital</option>
              <option value="diseno">Diseño y Branding</option>
              <option value="otro">Otro</option>
            </select>
          </div>

          <!-- Budget Range -->
          <div>
            <label for="budget" class="block text-sm font-medium text-secondary-700 mb-2">
              Presupuesto Estimado
            </label>
            <select 
              id="budget" 
              name="budget" 
              class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
            >
              <option value="">Selecciona un rango</option>
              <option value="bajo">Menos de $5,000</option>
              <option value="medio">$5,000 - $15,000</option>
              <option value="alto">$15,000 - $50,000</option>
              <option value="premium">Más de $50,000</option>
            </select>
          </div>

          <!-- Project Timeline -->
          <div>
            <label for="timeline" class="block text-sm font-medium text-secondary-700 mb-2">
              Tiempo Estimado del Proyecto
            </label>
            <select 
              id="timeline" 
              name="timeline" 
              class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
            >
              <option value="">Selecciona un tiempo</option>
              <option value="urgente">Menos de 1 mes</option>
              <option value="corto">1-3 meses</option>
              <option value="medio">3-6 meses</option>
              <option value="largo">Más de 6 meses</option>
            </select>
          </div>

          <!-- Project Description -->
          <div>
            <label for="description" class="block text-sm font-medium text-secondary-700 mb-2">
              Descripción del Proyecto *
            </label>
            <textarea 
              id="description" 
              name="description" 
              rows="5" 
              required 
              placeholder="Describe brevemente tu proyecto, objetivos y cualquier requerimiento específico..."
              class="w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors resize-vertical"
            ></textarea>
          </div>

          <!-- Submit Button -->
          <div class="pt-6">
            <button 
              type="submit" 
              class="w-full bg-primary-600 text-white py-4 px-6 rounded-lg text-lg font-semibold hover:bg-primary-700 transition-colors focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"
            >
              Enviar Solicitud de Cotización
            </button>
          </div>

          <!-- Privacy Notice -->
          <div class="text-sm text-secondary-500 text-center">
            Al enviar este formulario, aceptas nuestra política de privacidad y términos de servicio.
          </div>
        </form>
      </div>

      <!-- Contact Information -->
      <div class="mt-12 text-center">
        <h2 class="text-2xl font-bold text-secondary-900 mb-4">
          ¿Prefieres contactarnos directamente?
        </h2>
        <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-8">
          <a 
            href="tel:+1234567890" 
            class="flex items-center text-primary-600 hover:text-primary-700 transition-colors"
          >
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
            </svg>
            (123) 456-7890
          </a>
          <a 
            href="mailto:info@miempresa.com" 
            class="flex items-center text-primary-600 hover:text-primary-700 transition-colors"
          >
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
            </svg>
            info@miempresa.com
          </a>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Simple form validation
        const requiredFields = form.querySelectorAll('[required]');
        let isValid = true;
        
        requiredFields.forEach(field => {
          const input = field as HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;
          if (!input.value.trim()) {
            isValid = false;
            input.classList.add('border-red-500');
          } else {
            input.classList.remove('border-red-500');
          }
        });
        
        if (isValid) {
          // Simulate form submission
          alert('¡Gracias por tu solicitud! Nos pondremos en contacto contigo pronto.');
          form.reset();
        } else {
          alert('Por favor, completa todos los campos requeridos.');
        }
      });
    }
  });
</script>